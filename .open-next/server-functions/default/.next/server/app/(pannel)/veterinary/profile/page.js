(()=>{var e={};e.id=5310,e.ids=[5310],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},4813:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>l});var a=t(38413),n=t(97626),s=t(66308),i=t.n(s),o=t(68819),c={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);t.d(r,c);let l=["",{children:["(pannel)",{children:["veterinary",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,50417)),"/home/chinnu/projects/chipthem/src/app/(pannel)/veterinary/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,35594)),"/home/chinnu/projects/chipthem/src/app/(pannel)/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35248,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,42025,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,72470,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,99017))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,12282)),"/home/chinnu/projects/chipthem/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35248,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,42025,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,72470,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,99017))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/chinnu/projects/chipthem/src/app/(pannel)/veterinary/profile/page.tsx"],p={require:t,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(pannel)/veterinary/profile/page",pathname:"/veterinary/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},2561:(e,r,t)=>{Promise.resolve().then(t.bind(t,50417))},39009:(e,r,t)=>{Promise.resolve().then(t.bind(t,15121))},15121:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>o});var a=t(76635),n=t(20830),s=t(78083);function i({initialData:e,onUpdate:r,isSaving:t,error:s}){let[i,o]=(0,n.useState)({contact_person:e.contact_person||"",license_number:e.license_number||"",terms_accepted:!!e.terms_accepted,data_accuracy_confirmed:!!e.data_accuracy_confirmed,professional_confirmation:!!e.professional_confirmation,consent_for_referrals:!!e.consent_for_referrals,email_updates_opt_in:!!e.email_updates_opt_in}),c=e=>{let{name:r,value:t,type:a,checked:n}=e.target;o(e=>({...e,[r]:"checkbox"===a?n:t}))},l=async e=>{e.preventDefault();let t={contact_person:i.contact_person.trim()||null,license_number:i.license_number.trim()||null,terms_accepted:i.terms_accepted,data_accuracy_confirmed:i.data_accuracy_confirmed,professional_confirmation:i.professional_confirmation,consent_for_referrals:i.consent_for_referrals,email_updates_opt_in:i.email_updates_opt_in};await r(t)};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"border-b bg-white",children:(0,a.jsxs)("div",{className:"max-w-3xl mx-auto px-4 py-4",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"Professional profile"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Manage your contact details and professional confirmations. This information builds trust with pet owners."})]})}),(0,a.jsxs)("main",{className:"max-w-3xl mx-auto px-4 py-6 space-y-6",children:[(0,a.jsxs)("section",{className:"bg-white rounded-xl shadow-sm border p-4",children:[(0,a.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Account details"}),(0,a.jsxs)("dl",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-4 gap-y-2 text-xs",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-gray-500",children:"Email"}),(0,a.jsx)("dd",{className:"text-gray-900",children:e.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-gray-500",children:"Clinic"}),(0,a.jsx)("dd",{className:"text-gray-900",children:e.clinic_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-gray-500",children:"Account created"}),(0,a.jsx)("dd",{className:"text-gray-900",children:new Date(e.created_at).toLocaleDateString()})]}),e.updated_at&&(0,a.jsxs)("div",{children:[(0,a.jsx)("dt",{className:"text-gray-500",children:"Last updated"}),(0,a.jsx)("dd",{className:"text-gray-900",children:new Date(e.updated_at).toLocaleDateString()})]})]})]}),(0,a.jsxs)("form",{onSubmit:l,className:"bg-white rounded-xl shadow-sm border p-4 space-y-4",children:[(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Responsible veterinarian"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Contact person / Vet name"}),(0,a.jsx)("input",{type:"text",name:"contact_person",value:i.contact_person,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Dr. Jane Doe"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"License / registration number"}),(0,a.jsx)("input",{type:"text",name:"license_number",value:i.license_number,onChange:c,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. VET-123456"})]})]})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Declarations & consents"}),(0,a.jsx)("div",{className:"space-y-2 text-xs text-gray-700",children:Object.keys(i).map(e=>"boolean"==typeof i[e]?(0,a.jsxs)("label",{className:"flex items-start gap-2",children:[(0,a.jsx)("input",{type:"checkbox",name:e,checked:i[e],onChange:c,className:"h-3 w-3 mt-0.5 rounded border-gray-300"}),(0,a.jsx)("span",{children:{terms_accepted:"I accept the platform terms of use and agree to comply with the guidelines for veterinary partners.",data_accuracy_confirmed:"I confirm that the clinic and professional information I provide is accurate and kept up to date.",professional_confirmation:"I confirm that I am a licensed veterinary professional or legally authorized representative of this clinic.",consent_for_referrals:"I consent to being contacted about referrals, lost/found pet cases, and related coordination.",email_updates_opt_in:"I would like to receive email updates about product changes, tips, and important notifications."}[e]||e})]},e):null)})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-100",children:[s&&(0,a.jsx)("p",{className:"text-[11px] text-red-600 self-center mr-auto",children:s}),(0,a.jsx)("button",{type:"submit",disabled:t,className:"px-4 py-1.5 text-xs font-semibold rounded-full bg-emerald-600 text-white shadow hover:bg-emerald-700 disabled:opacity-50",children:t?"Saving…":"Save profile"})]})]})]})]})}function o(){let{veterinary:e,isLoading:r,error:t,fetchVeterinaryData:n,updateVeterinary:o}=(0,s.K)(),c=async r=>{e?.id&&await o(e.id,r)};return r&&!e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"Loading profile…"})}):t&&!e?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("p",{className:"text-red-600 text-sm",children:["Error: ",t]})}):e?(0,a.jsx)(i,{initialData:e,onUpdate:c,isSaving:r,error:t}):(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsx)("p",{className:"text-gray-600 text-sm",children:"No profile found."})})}},78083:(e,r,t)=>{"use strict";t.d(r,{K:()=>s});var a=t(5991);let n=async(e,r)=>{let t=await fetch(e,r);if(!t.ok)throw Error((await t.json()).error||"API request failed");return t},s=(0,a.v)((e,r)=>({veterinary:null,isLoading:!1,error:null,fetchVeterinaryData:async()=>{e({isLoading:!0,error:null});try{let r=await n("/api/veterinary/me",{}),t=await r.json();e({veterinary:t.veterinary,isLoading:!1})}catch(t){let r=t instanceof Error?t.message:"Unknown error";e({error:r,isLoading:!1}),console.error("Error fetching veterinary data:",r)}},updateVeterinary:async(t,a)=>{e({isLoading:!0,error:null});try{await n(`/api/veterinary/${t}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),await r().fetchVeterinaryData(),e({isLoading:!1})}catch(t){let r=t instanceof Error?t.message:"Unknown error";e({error:r,isLoading:!1}),console.error("Error updating veterinary clinic:",r)}},updatePassword:async(r,t,a)=>{e({isLoading:!0,error:null});try{await n(`/api/veterinary/${r}/reset-password`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:t,newPassword:a})}),e({isLoading:!1})}catch(t){let r=t instanceof Error?t.message:"Password update failed";e({error:r,isLoading:!1}),console.error("Error updating veterinary password:",r)}}}))},50417:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a});let a=(0,t(52749).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/chinnu/projects/chipthem/src/app/(pannel)/veterinary/profile/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/chinnu/projects/chipthem/src/app/(pannel)/veterinary/profile/page.tsx","default")}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[3465,9233,5580,7757,937,4954],()=>t(4813));module.exports=a})();