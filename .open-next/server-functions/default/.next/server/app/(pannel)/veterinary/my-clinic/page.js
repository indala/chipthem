(()=>{var e={};e.id=4754,e.ids=[4754],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},8829:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var s=r(38413),n=r(97626),a=r(66308),i=r.n(a),l=r(68819),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["(pannel)",{children:["veterinary",{children:["my-clinic",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,58141)),"/home/chinnu/projects/chipthem/src/app/(pannel)/veterinary/my-clinic/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,35594)),"/home/chinnu/projects/chipthem/src/app/(pannel)/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35248,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,42025,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,72470,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,99017))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,12282)),"/home/chinnu/projects/chipthem/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35248,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,42025,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,72470,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,99017))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/home/chinnu/projects/chipthem/src/app/(pannel)/veterinary/my-clinic/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/(pannel)/veterinary/my-clinic/page",pathname:"/veterinary/my-clinic",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},83841:(e,t,r)=>{Promise.resolve().then(r.bind(r,58141))},20289:(e,t,r)=>{Promise.resolve().then(r.bind(r,89309))},36035:(e,t,r)=>{"use strict";r.d(t,{default:()=>n.a});var s=r(31095),n=r.n(s)},31095:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let s=r(51442)._(r(16479));function n(e,t){var r;let n={};"function"==typeof e&&(n.loader=e);let a={...n,...t};return(0,s.default)({...a,modules:null==(r=a.loadableGenerated)?void 0:r.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},84607:(e,t)=>{"use strict";function r(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"encodeURIPath",{enumerable:!0,get:function(){return r}})},49536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return n}});let s=r(62732);function n(e){let{reason:t,children:r}=e;throw new s.BailoutToCSRError(t)}},16479:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let s=r(76635),n=r(20830),a=r(49536),i=r(51509);function l(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(l(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},r=(0,n.lazy)(()=>t.loader().then(l)),c=t.loading;function d(e){let l=c?(0,s.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,d=o?n.Suspense:n.Fragment,u=t.ssr?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.PreloadChunks,{moduleIds:t.modules}),(0,s.jsx)(r,{...e})]}):(0,s.jsx)(a.BailoutToCSR,{reason:"next/dynamic",children:(0,s.jsx)(r,{...e})});return(0,s.jsx)(d,{...o?{fallback:l}:{},children:u})}return d.displayName="LoadableComponent",d}},51509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return l}});let s=r(76635),n=r(48291),a=r(29294),i=r(84607);function l(e){let{moduleIds:t}=e,r=a.workAsyncStorage.getStore();if(void 0===r)return null;let l=[];if(r.reactLoadableManifest&&t){let e=r.reactLoadableManifest;for(let r of t){if(!e[r])continue;let t=e[r].files;l.push(...t)}}return 0===l.length?null:(0,s.jsx)(s.Fragment,{children:l.map(e=>{let t=r.assetPrefix+"/_next/"+(0,i.encodeURIPath)(e);return e.endsWith(".css")?(0,s.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,n.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},89309:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(76635),n=r(20830),a=r(36035),i=r(78083);let l=(0,a.default)(async()=>{},{loadableGenerated:{modules:["app/(pannel)/veterinary/my-clinic/page.tsx -> @/components/ClinicMap"]},ssr:!1,loading:()=>(0,s.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-500 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Loading map..."})]})})});function o(){let{veterinary:e,isLoading:t,error:r,fetchVeterinaryData:a,updateVeterinary:o}=(0,i.K)(),[c,d]=(0,n.useState)({clinic_name:"",street_address:"",city:"",state_province:"",postal_code:"",country:"",google_maps_url:"",latitude:"",longitude:"",operating_hours:"",provides_24h_emergency:!1,microchip_services:!1,has_microchip_scanners:!1,website:"",phone:"",alt_phone:"",years_in_practice:"",specializations:"",additional_services:"",scanner_types:""}),[u,m]=(0,n.useState)(null),[p,x]=(0,n.useState)(!1),[h,g]=(0,n.useState)(""),y=e=>{let{name:t,value:r,type:s,checked:n}=e.target;d(e=>({...e,[t]:"checkbox"===s?n:r})),"google_maps_url"===t&&(m(null),g(""),x(!1))},f=async t=>{if(t.preventDefault(),!e?.id)return;let r={clinic_name:c.clinic_name.trim(),street_address:c.street_address.trim()||null,city:c.city.trim()||null,state_province:c.state_province.trim()||null,postal_code:c.postal_code.trim()||null,country:c.country.trim()||null,google_maps_url:""===c.google_maps_url.trim()?void 0:c.google_maps_url.trim(),latitude:""===c.latitude.trim()?null:c.latitude.trim(),longitude:""===c.longitude.trim()?null:c.longitude.trim(),operating_hours:c.operating_hours.trim()||null,provides_24h_emergency:c.provides_24h_emergency,microchip_services:c.microchip_services,has_microchip_scanners:c.has_microchip_scanners,website:c.website.trim()||null,phone:c.phone.trim()||null,alt_phone:c.alt_phone.trim()||null,years_in_practice:""===c.years_in_practice.trim()?null:Number(c.years_in_practice),specializations:""===c.specializations.trim()?null:c.specializations.split(",").map(e=>e.trim()),additional_services:""===c.additional_services.trim()?null:c.additional_services.split(",").map(e=>e.trim()),scanner_types:""===c.scanner_types.trim()?null:c.scanner_types.split(",").map(e=>e.trim())};await o(e.id,r)};return t&&!e?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Loading clinic data…"})}):r&&!e?(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)("p",{className:"text-red-600 text-sm",children:r})}):e?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"border-b bg-white",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"My clinic"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Update your clinic details, address, and services. Changes may be reviewed before they appear to pet owners."})]})}),(0,s.jsx)("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6",children:(0,s.jsxs)("form",{onSubmit:f,className:"bg-white rounded-xl shadow-sm border p-4 space-y-4",children:[(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Clinic information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Clinic name"}),(0,s.jsx)("input",{type:"text",name:"clinic_name",value:c.clinic_name,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Website"}),(0,s.jsx)("input",{type:"url",name:"website",value:c.website,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"https://example.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Phone"}),(0,s.jsx)("input",{type:"tel",name:"phone",value:c.phone,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Alternate phone"}),(0,s.jsx)("input",{type:"tel",name:"alt_phone",value:c.alt_phone,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Years in practice"}),(0,s.jsx)("input",{type:"number",name:"years_in_practice",min:0,max:100,value:c.years_in_practice,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Address & location"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Street address"}),(0,s.jsx)("input",{type:"text",name:"street_address",value:c.street_address,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"City"}),(0,s.jsx)("input",{type:"text",name:"city",value:c.city,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"State / Province"}),(0,s.jsx)("input",{type:"text",name:"state_province",value:c.state_province,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Postal code"}),(0,s.jsx)("input",{type:"text",name:"postal_code",value:c.postal_code,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Country"}),(0,s.jsx)("input",{type:"text",name:"country",value:c.country,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Google Maps URL"}),(0,s.jsx)("input",{type:"url",name:"google_maps_url",value:c.google_maps_url,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"https://maps.app.goo.gl/... or https://www.google.com/maps/@lat,lng"}),(0,s.jsx)("p",{className:"mt-1 text-[11px] text-gray-500",children:"Paste a Google Maps share link. Coordinates and map will update automatically."})]}),(p||u||h)&&(0,s.jsxs)("div",{className:"md:col-span-2",children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Location preview"}),(0,s.jsx)("div",{className:"h-64 rounded-lg overflow-hidden border border-gray-200",children:p?(0,s.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-50",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-emerald-500 mx-auto mb-2"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Extracting location..."})]})}):u?(0,s.jsx)(l,{mapPosition:u,clinicName:c.clinic_name,streetAddress:c.street_address,city:c.city,country:c.country}):(0,s.jsx)("div",{className:"flex items-center justify-center h-full bg-gray-50",children:(0,s.jsx)("p",{className:"text-xs text-red-500 text-center px-4",children:h})})}),u&&(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mt-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] font-medium text-gray-500 mb-1",children:"Latitude"}),(0,s.jsx)("input",{type:"text",value:c.latitude,readOnly:!0,className:"w-full rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-1 text-xs text-emerald-800"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-[10px] font-medium text-gray-500 mb-1",children:"Longitude"}),(0,s.jsx)("input",{type:"text",value:c.longitude,readOnly:!0,className:"w-full rounded-lg border border-emerald-200 bg-emerald-50 px-3 py-1 text-xs text-emerald-800"})]})]})]})]})]}),(0,s.jsxs)("section",{children:[(0,s.jsx)("h2",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Services & equipment"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",name:"provides_24h_emergency",checked:c.provides_24h_emergency,onChange:y,className:"h-3 w-3 rounded border-gray-300"}),"24h emergency services"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",name:"microchip_services",checked:c.microchip_services,onChange:y,className:"h-3 w-3 rounded border-gray-300"}),"Microchip implantation services"]}),(0,s.jsxs)("label",{className:"flex items-center gap-2 text-xs text-gray-700",children:[(0,s.jsx)("input",{type:"checkbox",name:"has_microchip_scanners",checked:c.has_microchip_scanners,onChange:y,className:"h-3 w-3 rounded border-gray-300"}),"Microchip scanners available"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Operating hours"}),(0,s.jsx)("textarea",{name:"operating_hours",value:c.operating_hours,onChange:y,rows:3,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"e.g. Mon–Fri 9:00–18:00, Sat 10:00–14:00"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Specializations (comma separated)"}),(0,s.jsx)("input",{type:"text",name:"specializations",value:c.specializations,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Dermatology, Surgery, Exotic pets"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Additional services (comma separated)"}),(0,s.jsx)("input",{type:"text",name:"additional_services",value:c.additional_services,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"Grooming, Boarding, Home visits"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Scanner types (comma separated)"}),(0,s.jsx)("input",{type:"text",name:"scanner_types",value:c.scanner_types,onChange:y,className:"w-full rounded-lg border border-gray-300 px-3 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-emerald-500",placeholder:"ISO FDX-B, AVID, etc."})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-100",children:[r&&(0,s.jsx)("p",{className:"text-[11px] text-red-600 self-center mr-auto",children:r}),(0,s.jsx)("button",{type:"submit",className:"px-4 py-1.5 text-xs font-semibold rounded-full bg-emerald-600 text-white shadow hover:bg-emerald-700",children:t?"Saving…":"Save clinic details"})]})]})})]}):(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"No clinic profile found."})})}},78083:(e,t,r)=>{"use strict";r.d(t,{K:()=>a});var s=r(5991);let n=async(e,t)=>{let r=await fetch(e,t);if(!r.ok)throw Error((await r.json()).error||"API request failed");return r},a=(0,s.v)((e,t)=>({veterinary:null,isLoading:!1,error:null,fetchVeterinaryData:async()=>{e({isLoading:!0,error:null});try{let t=await n("/api/veterinary/me",{}),r=await t.json();e({veterinary:r.veterinary,isLoading:!1})}catch(r){let t=r instanceof Error?r.message:"Unknown error";e({error:t,isLoading:!1}),console.error("Error fetching veterinary data:",t)}},updateVeterinary:async(r,s)=>{e({isLoading:!0,error:null});try{await n(`/api/veterinary/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),await t().fetchVeterinaryData(),e({isLoading:!1})}catch(r){let t=r instanceof Error?r.message:"Unknown error";e({error:t,isLoading:!1}),console.error("Error updating veterinary clinic:",t)}},updatePassword:async(t,r,s)=>{e({isLoading:!0,error:null});try{await n(`/api/veterinary/${t}/reset-password`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:r,newPassword:s})}),e({isLoading:!1})}catch(r){let t=r instanceof Error?r.message:"Password update failed";e({error:t,isLoading:!1}),console.error("Error updating veterinary password:",t)}}}))},58141:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(52749).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/chinnu/projects/chipthem/src/app/(pannel)/veterinary/my-clinic/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/chinnu/projects/chipthem/src/app/(pannel)/veterinary/my-clinic/page.tsx","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[3465,9233,5580,7757,937,4954],()=>r(8829));module.exports=s})();