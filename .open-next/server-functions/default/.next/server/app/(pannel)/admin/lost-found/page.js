(()=>{var e={};e.id=2600,e.ids=[2600],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},54257:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(38413),o=s(97626),n=s(66308),a=s.n(n),l=s(68819),i={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>l[e]);s.d(t,i);let d=["",{children:["(pannel)",{children:["admin",{children:["lost-found",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,99463)),"/home/chinnu/projects/chipthem/src/app/(pannel)/admin/lost-found/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,35594)),"/home/chinnu/projects/chipthem/src/app/(pannel)/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35248,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,42025,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,72470,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,99017))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,12282)),"/home/chinnu/projects/chipthem/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35248,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,42025,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,72470,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,99017))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/chinnu/projects/chipthem/src/app/(pannel)/admin/lost-found/page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:o.RouteKind.APP_PAGE,page:"/(pannel)/admin/lost-found/page",pathname:"/admin/lost-found",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},19483:(e,t,s)=>{Promise.resolve().then(s.bind(s,99463))},95923:(e,t,s)=>{Promise.resolve().then(s.bind(s,64255))},64255:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(76635),o=s(20830),n=s(85576);let a=(e,t,s)=>e.map(e=>e.id===t?{...e,...s}:e),l=(e,t)=>e.filter(e=>e.id!==t),i=(0,n.v)((e,t)=>({lostReports:[],foundReports:[],isLoading:!1,error:null,fetchLostReports:async()=>{e({isLoading:!0,error:null});try{let t=await fetch("/api/admin/lost-reports");if(!t.ok)throw Error("Failed to fetch lost reports");let s=await t.json();e({lostReports:s.reports,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},fetchFoundReports:async()=>{e({isLoading:!0,error:null});try{let t=await fetch("/api/admin/found-reports");if(!t.ok)throw Error("Failed to fetch found reports");let s=await t.json();e({foundReports:s.reports,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},deleteLostReport:async s=>{let r=t().lostReports;e({lostReports:l(r,s)});try{if(!(await fetch(`/api/admin/lost-reports/${s}`,{method:"DELETE"})).ok)throw Error("Failed to delete lost report")}catch(t){e({error:t.message,lostReports:r})}},deleteFoundReport:async s=>{let r=t().foundReports;e({foundReports:l(r,s)});try{if(!(await fetch(`/api/admin/found-reports/${s}`,{method:"DELETE"})).ok)throw Error("Failed to delete found report")}catch(t){e({error:t.message,foundReports:r})}},resolveLostReport:async s=>{let r=t().lostReports;e({lostReports:a(r,s,{status:"resolved"})});try{if(!(await fetch(`/api/admin/lost-reports/${s}/resolve`,{method:"PATCH"})).ok)throw Error("Failed to resolve lost report")}catch(t){e({error:t.message,lostReports:r})}},resolveFoundReport:async s=>{let r=t().foundReports;e({foundReports:a(r,s,{status:"resolved"})});try{if(!(await fetch(`/api/admin/found-reports/${s}/resolve`,{method:"PATCH"})).ok)throw Error("Failed to resolve found report")}catch(t){e({error:t.message,foundReports:r})}}}));var d=s(81391),c=s(9230);let p=({reportType:e,status:t})=>{let s="",o="lost"===e?"Lost":"Found";return"resolved"===t?(s="bg-green-500",o="Resolved"):s="lost"===e?"bg-red-500":"bg-gray-500",(0,r.jsx)("span",{className:`inline-flex items-center px-3 py-1 text-xs font-semibold uppercase leading-none rounded-full text-white ${s}`,children:o})};function m({report:e,reportType:t,onResolve:s,onDelete:o}){let n="lost"===t?e.last_seen_location:e.found_location,a="lost"===t?e.pet_name:`Found ${e.pet_type}`,l="resolved"===e.status;return(0,r.jsxs)("div",{className:`h-full border border-gray-200 rounded-xl shadow-lg overflow-hidden flex flex-col transition-shadow duration-300 hover:shadow-xl ${l?"bg-green-50":"bg-white"}`,children:[e.pet_photo&&(0,r.jsx)("div",{className:"w-full",style:{height:"200px"},children:(0,r.jsx)(c.default,{src:e.pet_photo,alt:a||"Pet photo",height:200,width:400,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-0",children:a}),(0,r.jsx)(p,{reportType:t,status:e.status||""})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-700 space-y-1 mt-2 flex-grow",children:[(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsx)(d.lV_,{className:"text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"font-semibold",children:"Color:"})," ",e.color]}),(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsx)(d.VlX,{className:"text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"font-semibold",children:"Size:"})," ",e.size]}),(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsx)(d.vq8,{className:"text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"font-semibold",children:"Location:"})," ",n]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 pt-2 border-t mt-3",children:["Reported on: ",new Date(e.created_at).toLocaleDateString()]}),e.status&&(0,r.jsxs)("p",{className:`font-bold mt-1 capitalize text-sm ${l?"text-green-600":"text-yellow-600"}`,children:["Status: ",e.status]})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end space-x-3",children:[!l&&(0,r.jsxs)("button",{onClick:()=>s(e.id),className:"flex items-center px-4 py-2 text-sm font-semibold rounded-lg border border-green-500 text-green-600 hover:bg-green-50 transition-colors",children:[(0,r.jsx)(d.A7C,{className:"mr-2"})," Resolve"]}),(0,r.jsxs)("button",{onClick:()=>o(e.id),className:"flex items-center px-4 py-2 text-sm font-semibold rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors",children:[(0,r.jsx)(d.RCe,{className:"mr-2"})," Delete"]})]})]})}function u(){let{lostReports:e,isLoading:t,deleteLostReport:s,resolveLostReport:o}=i(),n=async e=>{await s(e)},a=async e=>{await o(e)};return t?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"Loading lost pet reports..."})}):0===e.length?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"No lost pet reports found."})}):(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 py-4",children:e.map(e=>(0,r.jsx)("div",{className:"col-span-1",children:(0,r.jsx)(m,{report:e,reportType:"lost",onDelete:()=>n(e.id),onResolve:()=>a(e.id)})},e.id))})}function x(){let{foundReports:e,isLoading:t,deleteFoundReport:s,resolveFoundReport:o}=i(),n=async e=>{await s(e)},a=async e=>{await o(e)};return t?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"Loading found pet reports..."})}):0===e.length?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"No found pet reports found."})}):(0,r.jsx)("div",{className:"grid gap-6 md:gap-8 py-4",children:e.map(e=>(0,r.jsx)("div",{className:"col-span-1 sm:col-span-1 md:col-span-1 lg:col-span-1",style:{display:"contents"},children:(0,r.jsx)(m,{report:e,reportType:"found",onDelete:()=>n(e.id),onResolve:()=>a(e.id)})},e.id))})}function h(){let{fetchLostReports:e,fetchFoundReports:t}=i(),[s,n]=(0,o.useState)("lost"),a=e=>`px-4 py-2 text-lg font-medium cursor-pointer transition-colors duration-200 ${s===e?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700"}`;return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Lost & Found Pet Reports"}),(0,r.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,r.jsxs)("div",{id:"lost-found-tabs",className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>n("lost"),className:a("lost"),"aria-selected":"lost"===s,role:"tab",children:"Lost Pets"}),(0,r.jsx)("button",{onClick:()=>n("found"),className:a("found"),"aria-selected":"found"===s,role:"tab",children:"Found Pets"})]})}),(0,r.jsx)("div",{className:"pt-4",role:"tabpanel",children:"lost"===s?(0,r.jsx)(u,{}):(0,r.jsx)(x,{})})]})}},99463:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(52749).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/chinnu/projects/chipthem/src/app/(pannel)/admin/lost-found/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/chinnu/projects/chipthem/src/app/(pannel)/admin/lost-found/page.tsx","default")}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4141,9233,5580,2671,2506,9230,4954],()=>s(54257));module.exports=r})();