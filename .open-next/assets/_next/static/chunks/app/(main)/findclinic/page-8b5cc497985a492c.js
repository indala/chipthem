(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5975],{61264:(e,t,l)=>{Promise.resolve().then(l.bind(l,5655)),Promise.resolve().then(l.bind(l,54317)),Promise.resolve().then(l.bind(l,55751))},41108:(e,t,l)=>{"use strict";l.d(t,{default:()=>s.a});var n=l(95653),s=l.n(n)},95759:(e,t,l)=>{"use strict";var n=l(49719);l.o(n,"usePathname")&&l.d(t,{usePathname:function(){return n.usePathname}}),l.o(n,"useRouter")&&l.d(t,{useRouter:function(){return n.useRouter}}),l.o(n,"useSearchParams")&&l.d(t,{useSearchParams:function(){return n.useSearchParams}})},95653:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});let n=l(8322)._(l(55869));function s(e,t){var l;let s={};"function"==typeof e&&(s.loader=e);let r={...s,...t};return(0,n.default)({...r,modules:null==(l=r.loadableGenerated)?void 0:l.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},32130:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return s}});let n=l(78734);function s(e){let{reason:t,children:l}=e;if("undefined"==typeof window)throw new n.BailoutToCSRError(t);return l}},55869:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return c}});let n=l(22194),s=l(4346),r=l(32130),a=l(7663);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},c=function(e){let t={...o,...e},l=(0,s.lazy)(()=>t.loader().then(i)),c=t.loading;function d(e){let i=c?(0,n.jsx)(c,{isLoading:!0,pastDelay:!0,error:null}):null,o=!t.ssr||!!t.loading,d=o?s.Suspense:s.Fragment,u=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(a.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(l,{...e})]}):(0,n.jsx)(r.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(l,{...e})});return(0,n.jsx)(d,{...o?{fallback:i}:{},children:u})}return d.displayName="LoadableComponent",d}},7663:(e,t,l)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadChunks",{enumerable:!0,get:function(){return i}});let n=l(22194),s=l(38983),r=l(23312),a=l(85453);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let l=r.workAsyncStorage.getStore();if(void 0===l)return null;let i=[];if(l.reactLoadableManifest&&t){let e=l.reactLoadableManifest;for(let l of t){if(!e[l])continue;let t=e[l].files;i.push(...t)}}return 0===i.length?null:(0,n.jsx)(n.Fragment,{children:i.map(e=>{let t=l.assetPrefix+"/_next/"+(0,a.encodeURIPath)(e);return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:t,rel:"stylesheet",as:"style"},e):((0,s.preload)(t,{as:"script",fetchPriority:"low"}),null)})})}},54317:(e,t,l)=>{"use strict";l.d(t,{default:()=>g});var n=l(22194),s=l(4346),r=l(63233);let a=e=>{let{radius:t,locationInput:l,onRadiusChange:s,onLocationChange:a,onUseMyLocation:i,onSearch:o}=e,c=(0,r.c3)("FindSearch");return(0,n.jsx)("section",{className:"pt-6 pb-8 bg-white border-b",children:(0,n.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 items-center",children:[(0,n.jsxs)("button",{onClick:i,className:"bg-pet-secondary hover:bg-pet-secondary/80 text-white px-6 py-3 rounded-lg font-semibold transition-colors flex items-center",children:[(0,n.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})}),c("useMyLocation")]}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("label",{htmlFor:"radius",className:"text-sm font-medium text-gray-700",children:c("searchRadius")}),(0,n.jsxs)("select",{id:"radius",value:t,onChange:e=>s(e.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 text-sm",children:[(0,n.jsx)("option",{value:"",children:c("noRadius")}),(0,n.jsx)("option",{value:"5",children:"5 km"}),(0,n.jsx)("option",{value:"10",children:"10 km"}),(0,n.jsx)("option",{value:"25",children:"25 km"}),(0,n.jsx)("option",{value:"50",children:"50 km"})]})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("input",{type:"text",id:"location-input",placeholder:c("enterCityOrAddress"),className:"border border-gray-300 rounded-lg px-4 py-2 w-64",value:l,onChange:e=>a(e.target.value)}),(0,n.jsx)("button",{onClick:o,className:"bg-pet-primary hover:bg-pet-primary/80 text-white px-6 py-2 rounded-lg font-semibold transition-colors",children:c("search")})]})]})})})};var i=l(41108),o=l(76314),c=l.n(o);let d=(0,l(16474).v)(e=>({clinics:[],loading:!1,error:null,fetchClinics:async()=>{e({loading:!0,error:null});try{let t=await fetch("/api/clinics",{method:"GET",headers:{"Content-Type":"application/json"}});if(!t.ok)throw Error("Failed to fetch clinics (".concat(t.status,")"));let l=await t.json();e({clinics:l,loading:!1})}catch(t){e({error:t instanceof Error?t.message:"An unexpected error occurred",loading:!1})}}})),u=(0,i.default)(()=>Promise.all([l.e(8550),l.e(7544)]).then(l.bind(l,17544)),{loadableGenerated:{webpack:()=>[17544]},ssr:!1});function x(e){let{userLocation:t,searchRadius:l,onClinicSelect:a,selectedClinicLocation:i}=e,o=(0,r.c3)("FindMain"),[x,h]=(0,s.useState)(!1),g=d(e=>e.clinics),m=d(e=>e.loading),f=d(e=>e.error),p=d(e=>e.fetchClinics);(0,s.useEffect)(()=>{let{clinics:e,loading:t}=d.getState();0!==e.length||t||p()},[p]);let b=Number(l),j=g.map(e=>{if(!t)return e;let l=function(e,t,l,n){let s=Math.PI/180*(l-e),r=Math.PI/180*(n-t),a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(Math.PI/180*e)*Math.cos(Math.PI/180*l)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))*6371}(t.lat,t.lng,e.lat,e.lng);return{...e,distance:l,calculatedDistance:"".concat(l.toFixed(1)," km")}}).filter(e=>!!(null===t||!l||Number.isNaN(b))||void 0!==e.distance&&e.distance<=b),y=x?j.filter(e=>e.is_24h):j;return m?(0,n.jsx)("div",{className:"px-4 py-6 text-center text-gray-600",children:o("loading")||"Loading clinics..."}):f?(0,n.jsx)("div",{className:"px-4 py-6 text-center text-red-600",children:f}):(0,n.jsxs)("div",{className:"mx-auto px-4 sm:px-6 lg:px-8 grid grid-cols-1 lg:grid-cols-3 gap-8 py-6",children:[(0,n.jsxs)("div",{className:"lg:col-span-2",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-3",children:o("nearbyClinics")}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:o("subtitle")}),0===y.length?(0,n.jsx)("p",{className:"text-center text-gray-500 py-8",children:o("noClinicsFound")}):y.map(e=>(0,n.jsx)("div",{className:"bg-white rounded-xl shadow p-5 mb-4 border",onClick:()=>a(e.lat,e.lng),children:(0,n.jsxs)("div",{className:"flex justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold",children:e.name}),e.is_24h&&(0,n.jsx)("span",{className:"text-xs bg-red-100 text-red-700 px-2 py-1 rounded",children:o("emergency")}),(0,n.jsxs)("p",{className:"text-sm mt-2",children:["\uD83D\uDCCD ",e.address]}),e.phone&&(0,n.jsxs)("p",{className:"text-sm",children:["☎️"," ",(0,n.jsx)(c(),{href:"tel:".concat(e.phone),children:e.phone})]}),e.hours&&(0,n.jsxs)("p",{className:"text-sm",children:["\uD83D\uDD52 ",e.hours]})]}),(0,n.jsx)("div",{className:"text-right",children:t&&e.calculatedDistance?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{className:"font-bold text-green-600",children:e.calculatedDistance}),(0,n.jsx)("p",{className:"text-gray-500 text-sm",children:o("away")})]}):null})]})},e.id))]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(u,{userLocation:t,clinics:y,selectedClinic:i}),(0,n.jsxs)("div",{className:"mt-4 space-y-2",children:[(0,n.jsx)("button",{onClick:()=>h(!1),className:"w-full bg-pet-secondary text-white py-2 rounded-lg",children:o("showAllClinics")}),(0,n.jsx)("button",{onClick:()=>h(!0),className:"w-full bg-red-500 text-white py-2 rounded-lg",children:o("emergencyOnly")})]})]})]})}l(39794);let h=e=>{let t=e.toLowerCase(),l={amman:{lat:31.9566,lng:35.9457},jerusalem:{lat:31.7683,lng:35.2137},"tel aviv":{lat:32.0853,lng:34.7818},beirut:{lat:33.8938,lng:35.5018},damascus:{lat:33.5132,lng:36.2913},riyadh:{lat:24.7136,lng:46.6753},london:{lat:51.5074,lng:.1278},paris:{lat:48.8566,lng:2.3522},tokyo:{lat:35.6895,lng:139.6917},"new york":{lat:40.7128,lng:-74.006},delhi:{lat:28.6139,lng:77.209},sydney:{lat:-33.8688,lng:151.2093},brasilia:{lat:-15.7797,lng:-47.9297}};for(let e in l)if(t.includes(e))return l[e];return null};function g(){let e=(0,r.c3)("FindMain"),[t,l]=(0,s.useState)(null),[i,o]=(0,s.useState)(""),[c,d]=(0,s.useState)(""),[u,g]=(0,s.useState)(null),[m,f]=(0,s.useState)(null),p=(0,s.useMemo)(()=>({lat:31.9883,lng:35.8701}),[]);return(0,s.useEffect)(()=>{let t=!0;return(()=>{if(t){if(navigator.geolocation)navigator.geolocation.getCurrentPosition(e=>{t&&g({lat:e.coords.latitude,lng:e.coords.longitude})},()=>{t&&g(p)});else{if(!t)return;f(e("geolocationNotSupported")),g(p)}}})(),()=>{t=!1}},[p,e]),(0,n.jsxs)("div",{children:[(0,n.jsx)(a,{radius:i,locationInput:c,onRadiusChange:o,onLocationChange:d,onUseMyLocation:()=>{f(null),navigator.geolocation?navigator.geolocation.getCurrentPosition(e=>{g({lat:e.coords.latitude,lng:e.coords.longitude}),d("")},()=>{g(p)}):(f(e("geolocationNotSupported")),g(p))},onSearch:()=>{f(null);let e=h(c);e?g(e):g(p)}}),m&&(0,n.jsx)("p",{className:"text-center text-red-700 bg-red-100 p-2 font-medium border-b",children:m}),(0,n.jsx)(x,{userLocation:u,searchRadius:i,onClinicSelect:(e,t)=>l({lat:e,lng:t}),selectedClinicLocation:t})]})}},55751:(e,t,l)=>{"use strict";l.d(t,{default:()=>a});var n=l(22194),s=l(63233),r=l(95759);l(4346);let a=()=>{let e=(0,s.c3)("FindReady"),t=(0,r.useRouter)(),l=e=>{t.push(e),window.scrollTo(0,0)};return(0,n.jsx)("section",{className:"py-16 bg-blue-200",children:(0,n.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,n.jsx)("h2",{className:"text-3xl font-bold text-gray-800 mb-4",children:e("title")}),(0,n.jsx)("p",{className:"text-lg text-gray-600 mb-8",children:e("subtitle")}),(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,n.jsx)("button",{onClick:()=>l("/getpetmicrochipped"),className:"bg-pet-primary text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-blue-600 transition-colors",children:e("registerPet")}),(0,n.jsx)("button",{onClick:()=>l("/about"),className:"bg-gray-600 text-white px-8 py-4 rounded-xl text-lg font-bold hover:bg-gray-700 transition-colors",children:e("learnMore")})]})]})})}},39794:()=>{},63233:(e,t,l)=>{"use strict";l.d(t,{c3:()=>r});var n=l(89719);function s(e,t){return(...e)=>{try{return t(...e)}catch{throw Error(void 0)}}}let r=s(0,n.c3);s(0,n.kc)},5655:(e,t,l)=>{"use strict";l.d(t,{default:()=>r});var n=l(89719),s=l(22194);function r(e){let{locale:t,...l}=e;if(!t)throw Error(void 0);return(0,s.jsx)(n.Dk,{locale:t,...l})}},16474:(e,t,l)=>{"use strict";l.d(t,{v:()=>o});var n=l(4346);let s=e=>{let t;let l=new Set,n=(e,n)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),l.forEach(l=>l(t,e))}},s=()=>t,r={setState:n,getState:s,getInitialState:()=>a,subscribe:e=>(l.add(e),()=>l.delete(e))},a=t=e(n,s,r);return r},r=e=>e?s(e):s,a=e=>e,i=e=>{let t=r(e),l=e=>(function(e,t=a){let l=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(l),l})(t,e);return Object.assign(l,t),l},o=e=>e?i(e):i}},e=>{var t=t=>e(e.s=t);e.O(0,[8333,9719,6314,1829,9539,7358],()=>t(61264)),_N_E=e.O()}]);