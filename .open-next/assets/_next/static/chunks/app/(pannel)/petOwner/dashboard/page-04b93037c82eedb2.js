(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1240],{34469:(e,s,t)=>{Promise.resolve().then(t.bind(t,56272))},56272:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(22194),a=t(4346),l=t(61455);let n=e=>{let{owner:s}=e;return(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-6 border border-gray-200",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Your Profile"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-600",children:"Full Name:"}),(0,r.jsx)("span",{className:"text-gray-800",children:s.full_name})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-600",children:"Email:"}),(0,r.jsx)("span",{className:"text-gray-800",children:s.email})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"font-semibold text-gray-600",children:"Phone:"}),(0,r.jsx)("span",{className:"text-gray-800",children:s.phone_number})]})]})]})},i=e=>{let{pets:s}=e;return(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-6 mt-6 border border-gray-200",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"My Registered Pets"}),s.length>0?(0,r.jsx)("div",{className:"space-y-4",children:s.map(e=>(0,r.jsxs)("div",{className:"border rounded-lg p-4 bg-gray-50",children:[(0,r.jsx)("p",{className:"font-bold text-lg text-gray-800",children:e.pet_name}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("strong",{children:"Type:"})," ",e.pet_type]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,r.jsx)("strong",{children:"Microchip:"})," ",e.microchip_number]})]},e.id))}):(0,r.jsx)("p",{className:"text-center text-gray-500",children:"You have no registered pets yet."})]})};function c(){let{owner:e,pets:s,isLoading:t,error:c,fetchOwnerData:d}=(0,l.K)();return((0,a.useEffect)(()=>{d()},[d]),t)?(0,r.jsx)("div",{className:"text-center p-12",children:"Loading your dashboard..."}):c?(0,r.jsxs)("div",{className:"text-center p-12 text-red-600",children:[(0,r.jsxs)("p",{children:["Error loading data: ",c]}),(0,r.jsx)("p",{children:"Please try reloading the page or contact support."})]}):e?(0,r.jsxs)("div",{className:"max-w-4xl mx-auto p-4 sm:p-6 lg:p-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Your Dashboard"}),(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsx)(n,{owner:e}),(0,r.jsx)(i,{pets:s})]})]}):(0,r.jsx)("div",{className:"text-center p-12",children:"No owner data found."})}},61455:(e,s,t)=>{"use strict";t.d(s,{K:()=>r});let r=(0,t(37439).v)(e=>({owner:null,pets:[],isLoading:!1,error:null,fetchOwnerData:async()=>{e({isLoading:!0,error:null});try{let s=await fetch("/api/owner/me");if(!s.ok){let e=await s.json();throw Error(e.error||"Failed to fetch owner data")}let t=await s.json();e({owner:t.owner,pets:t.pets,isLoading:!1})}catch(t){let s=t instanceof Error?t.message:"Unknown error";e({error:s,isLoading:!1}),console.error("Error fetching owner data:",s)}}}))},37439:(e,s,t)=>{"use strict";t.d(s,{v:()=>c});var r=t(4346);let a=e=>{let s;let t=new Set,r=(e,r)=>{let a="function"==typeof e?e(s):e;if(!Object.is(a,s)){let e=s;s=(null!=r?r:"object"!=typeof a||null===a)?a:Object.assign({},s,a),t.forEach(t=>t(s,e))}},a=()=>s,l={setState:r,getState:a,getInitialState:()=>n,subscribe:e=>(t.add(e),()=>t.delete(e))},n=s=e(r,a,l);return l},l=e=>e?a(e):a,n=e=>e,i=e=>{let s=l(e),t=e=>(function(e,s=n){let t=r.useSyncExternalStore(e.subscribe,r.useCallback(()=>s(e.getState()),[e,s]),r.useCallback(()=>s(e.getInitialState()),[e,s]));return r.useDebugValue(t),t})(s,e);return Object.assign(t,s),t},c=e=>e?i(e):i}},e=>{var s=s=>e(e.s=s);e.O(0,[1829,9539,7358],()=>s(34469)),_N_E=e.O()}]);