(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7453],{65482:(e,t,r)=>{Promise.resolve().then(r.bind(r,83562))},83562:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var n=r(22194),s=r(4346),l=r(26916),i=r(43821),a=r(61455);let o=e=>{let{username:t}=e,r=t.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),s=function(e){let t=0;for(let r=0;r<e.length;r++)t=e.charCodeAt(r)+((t<<5)-t);let r=Math.abs(t)%360;return"hsl(".concat(r,", 65%, 55%)")}(t);return(0,n.jsx)(l.P.div,{whileHover:{scale:1.05},className:"w-32 h-32 rounded-full flex items-center justify-center text-white text-4xl font-bold mx-auto shadow-md transition",style:{backgroundColor:s},children:r})};function c(){let{owner:e,pets:t,fetchOwnerData:r,isLoading:c,error:d}=(0,a.K)();return((0,s.useEffect)(()=>{r()},[r]),c)?(0,n.jsx)("div",{className:"p-4 text-center",children:"Loading..."}):d?(0,n.jsx)("div",{className:"p-4 text-center text-red-600",children:d}):e?(0,n.jsx)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"p-4 max-w-4xl mx-auto",children:(0,n.jsxs)("div",{className:"bg-white shadow-xl border border-gray-100 rounded-xl overflow-hidden",children:[(0,n.jsx)("div",{className:"bg-gray-50 p-4 border-b border-gray-200",children:(0,n.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 flex items-center mb-0",children:[(0,n.jsx)(i.NBi,{className:"mr-2 text-indigo-600"})," Profile"]})}),(0,n.jsx)("div",{className:"p-6",children:(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center mb-6 md:space-x-8",children:[(0,n.jsxs)("div",{className:"w-full md:w-1/4 text-center mb-4 md:mb-0",children:[(0,n.jsx)(o,{username:e.full_name}),(0,n.jsx)("h5",{className:"mt-3 text-xl font-semibold text-gray-900",children:e.full_name}),(0,n.jsx)("span",{className:"inline-flex items-center px-3 py-0.5 rounded-full text-sm font-medium uppercase text-white bg-indigo-500",children:"Pet Owner"})]}),(0,n.jsxs)("div",{className:"w-full md:w-3/4",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"mb-1 text-sm font-medium text-gray-500 flex items-center",children:[(0,n.jsx)(i.VkW,{className:"mr-2 text-gray-400"}),"Owner ID"]}),(0,n.jsx)("p",{className:"font-bold text-lg text-gray-900",children:e.id})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("p",{className:"mb-1 text-sm font-medium text-gray-500 flex items-center",children:[(0,n.jsx)(i.bfZ,{className:"mr-2 text-gray-400"}),"Verified At"]}),(0,n.jsx)("p",{className:"font-bold text-lg text-gray-900",children:e.verified_at?new Date(e.verified_at).toLocaleDateString():"Not verified"})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h5",{className:"text-lg font-semibold text-gray-800 mb-3",children:"My Pets"}),0===t.length?(0,n.jsx)("p",{className:"text-gray-600",children:"No pets found."}):(0,n.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:t.map(e=>(0,n.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 shadow-sm",children:[(0,n.jsx)("h6",{className:"font-semibold text-lg mb-1",children:e.pet_name}),(0,n.jsxs)("p",{className:"text-gray-500 mb-1",children:[(0,n.jsx)("strong",{children:"Type:"})," ",e.pet_type||"Unknown"]}),(0,n.jsxs)("p",{className:"text-gray-500",children:[(0,n.jsx)("strong",{children:"Microchip:"})," ",e.microchip_number||"N/A"]})]},e.id))})]})]})]})})]})}):(0,n.jsx)("div",{className:"p-4 text-center text-gray-600",children:"Owner not found"})}},61455:(e,t,r)=>{"use strict";r.d(t,{K:()=>n});let n=(0,r(37439).v)(e=>({owner:null,pets:[],isLoading:!1,error:null,fetchOwnerData:async()=>{e({isLoading:!0,error:null});try{let t=await fetch("/api/owner/me");if(!t.ok){let e=await t.json();throw Error(e.error||"Failed to fetch owner data")}let r=await t.json();e({owner:r.owner,pets:r.pets,isLoading:!1})}catch(r){let t=r instanceof Error?r.message:"Unknown error";e({error:t,isLoading:!1}),console.error("Error fetching owner data:",t)}}}))},6681:(e,t,r)=>{"use strict";r.d(t,{k5:()=>d});var n=r(4346),s={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=n.createContext&&n.createContext(s),i=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){var n,s;n=t,s=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[n]=s}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>n.createElement(m,a({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>n.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function m(e){var t=t=>{var r,{attr:s,size:l,title:o}=e,d=function(e,t){if(null==e)return{};var r,n,s=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}(e,i),m=l||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),o&&n.createElement("title",null,o),e.children)};return void 0!==l?n.createElement(l.Consumer,null,e=>t(e)):t(s)}},37439:(e,t,r)=>{"use strict";r.d(t,{v:()=>o});var n=r(4346);let s=e=>{let t;let r=new Set,n=(e,n)=>{let s="function"==typeof e?e(t):e;if(!Object.is(s,t)){let e=t;t=(null!=n?n:"object"!=typeof s||null===s)?s:Object.assign({},t,s),r.forEach(r=>r(t,e))}},s=()=>t,l={setState:n,getState:s,getInitialState:()=>i,subscribe:e=>(r.add(e),()=>r.delete(e))},i=t=e(n,s,l);return l},l=e=>e?s(e):s,i=e=>e,a=e=>{let t=l(e),r=e=>(function(e,t=i){let r=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},o=e=>e?a(e):a}},e=>{var t=t=>e(e.s=t);e.O(0,[2912,6916,1829,9539,7358],()=>t(65482)),_N_E=e.O()}]);