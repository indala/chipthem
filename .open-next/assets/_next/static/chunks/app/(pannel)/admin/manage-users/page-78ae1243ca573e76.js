(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9609],{19826:(e,s,r)=>{Promise.resolve().then(r.bind(r,1492))},1492:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>l});var t=r(22194),a=r(4346);let i=(0,r(37439).v)(e=>({petOwners:[],veterinaries:[],loading:!1,error:null,fetchUsers:async()=>{e({loading:!0,error:null});try{let s=await fetch("/api/admin/users"),r=await s.json();if(!r.success){e({loading:!1,error:r.error});return}let t=r.petOwners.map(e=>({id:e.id,name:e.full_name,email:e.email,is_verified:e.is_verified})),a=r.veterinaries.map(e=>({id:e.id,name:e.clinic_name,email:e.email,is_verified:e.is_verified}));e({petOwners:t,veterinaries:a,loading:!1})}catch(s){console.error("âŒ Fetch users failed:",s),e({loading:!1,error:s.message})}}}));function l(){let{petOwners:e,veterinaries:s,fetchUsers:r,loading:l}=i(),[n,d]=(0,a.useState)("owners");(0,a.useEffect)(()=>{r()},[r]);let c="owners"===n?e:s;return(0,t.jsxs)("div",{className:"p-3 sm:p-6 max-w-6xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-xl sm:text-2xl font-bold mb-5",children:"Users"}),(0,t.jsx)("div",{className:"flex gap-3 mb-6",children:["owners","veterinaries"].map(e=>(0,t.jsx)("button",{onClick:()=>d(e),className:"px-5 py-2 rounded-full text-sm font-semibold transition shadow ".concat(n===e?"bg-indigo-600 text-white shadow-md":"bg-gray-200 text-gray-700"),children:"owners"===e?"Pet Owners":"Veterinaries"},e))}),l?(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Loading users..."}):0===c.length?(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"No users found."}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:hidden",children:c.map(e=>(0,t.jsxs)("div",{className:"bg-white rounded-2xl p-4 shadow-md border",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,t.jsx)("h2",{className:"font-semibold text-base",children:e.name||"Unnamed User"}),(0,t.jsx)("span",{className:"text-xs px-3 py-1 rounded-full font-semibold ".concat(e.is_verified?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_verified?"Verified":"Unverified"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 break-all",children:e.email||"No email"})]},e.id))}),(0,t.jsx)("div",{className:"hidden sm:block overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full bg-white border rounded-xl overflow-hidden shadow-md",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left border-b",children:"Name"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left border-b",children:"Email"}),(0,t.jsx)("th",{className:"px-4 py-3 text-left border-b",children:"Status"})]})}),(0,t.jsx)("tbody",{children:c.map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50 transition",children:[(0,t.jsx)("td",{className:"px-4 py-3 border-b",children:e.name||"Unnamed User"}),(0,t.jsx)("td",{className:"px-4 py-3 border-b",children:e.email||"No email"}),(0,t.jsx)("td",{className:"px-4 py-3 border-b",children:(0,t.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(e.is_verified?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.is_verified?"Verified":"Unverified"})})]},e.id))})]})})]})]})}},37439:(e,s,r)=>{"use strict";r.d(s,{v:()=>d});var t=r(4346);let a=e=>{let s;let r=new Set,t=(e,t)=>{let a="function"==typeof e?e(s):e;if(!Object.is(a,s)){let e=s;s=(null!=t?t:"object"!=typeof a||null===a)?a:Object.assign({},s,a),r.forEach(r=>r(s,e))}},a=()=>s,i={setState:t,getState:a,getInitialState:()=>l,subscribe:e=>(r.add(e),()=>r.delete(e))},l=s=e(t,a,i);return i},i=e=>e?a(e):a,l=e=>e,n=e=>{let s=i(e),r=e=>(function(e,s=l){let r=t.useSyncExternalStore(e.subscribe,t.useCallback(()=>s(e.getState()),[e,s]),t.useCallback(()=>s(e.getInitialState()),[e,s]));return t.useDebugValue(r),r})(s,e);return Object.assign(r,s),r},d=e=>e?n(e):n}},e=>{var s=s=>e(e.s=s);e.O(0,[1829,9539,7358],()=>s(19826)),_N_E=e.O()}]);