(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2600],{24269:(e,t,s)=>{Promise.resolve().then(s.bind(s,99742))},88990:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return o}});let r=s(4346);function o(e,t){let s=(0,r.useRef)(()=>{}),o=(0,r.useRef)(()=>{});return(0,r.useMemo)(()=>e&&t?r=>{null===r?(s.current(),o.current()):(s.current=l(e,r),o.current=l(t,r))}:e||t,[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},99742:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(22194),o=s(4346),l=s(16474);let a=(e,t)=>e.filter(e=>e.id!==t),n=(0,l.v)((e,t)=>({lostReports:[],foundReports:[],selectedLost:null,selectedFound:null,isLoading:!1,error:null,fetchLostReports:async()=>{e({isLoading:!0,error:null});try{let t=await fetch("/api/admin/lost-reports");if(!t.ok)throw Error("Failed to fetch lost reports");let s=await t.json();e({lostReports:s.reports,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},fetchFoundReports:async()=>{e({isLoading:!0,error:null});try{let t=await fetch("/api/admin/found-reports");if(!t.ok)throw Error("Failed to fetch found reports");let s=await t.json();e({foundReports:s.reports,isLoading:!1})}catch(t){e({error:t.message,isLoading:!1})}},deleteLostReport:async s=>{let r=t().lostReports;e({lostReports:a(r,s)});try{if(!(await fetch("/api/admin/lost-reports/".concat(s),{method:"DELETE"})).ok)throw Error("Failed to delete lost report")}catch(t){e({error:t.message,lostReports:r})}},deleteFoundReport:async s=>{let r=t().foundReports;e({foundReports:a(r,s)});try{if(!(await fetch("/api/admin/found-reports/".concat(s),{method:"DELETE"})).ok)throw Error("Failed to delete found report")}catch(t){e({error:t.message,foundReports:r})}},resolveLostReport:async s=>{let r=t().lostReports;e({lostReports:a(r,s)});try{if(!(await fetch("/api/admin/lost-reports/".concat(s,"/resolve"),{method:"PATCH"})).ok)throw Error("Failed to resolve lost report")}catch(t){e({error:t.message,lostReports:r})}},resolveFoundReport:async s=>{let r=t().foundReports;e({foundReports:a(r,s)});try{if(!(await fetch("/api/admin/found-reports/".concat(s,"/resolve"),{method:"PATCH"})).ok)throw Error("Failed to resolve found report")}catch(t){e({error:t.message,foundReports:r})}}}));var i=s(43821),c=s(71022);let d=e=>{let{reportType:t,status:s}=e,o="",l="lost"===t?"Lost":"Found";return"resolved"===s?(o="bg-green-500",l="Resolved"):o="lost"===t?"bg-red-500":"bg-gray-500",(0,r.jsx)("span",{className:"inline-flex items-center px-3 py-1 text-xs font-semibold uppercase leading-none rounded-full text-white ".concat(o),children:l})};function u(e){let{report:t,reportType:s,onResolve:o,onDelete:l,onViewDetails:a}=e,n="lost"===s?t.last_seen_location:t.found_location,u="lost"===s?t.pet_name:"Found ".concat(t.pet_type),p="resolved"===t.status;return(0,r.jsxs)("div",{className:"h-full border border-gray-200 rounded-xl shadow-lg overflow-hidden flex flex-col transition-shadow duration-300 hover:shadow-xl ".concat(p?"bg-green-50":"bg-white"),children:[t.pet_photo&&(0,r.jsx)("div",{className:"w-full",style:{height:"200px"},children:(0,r.jsx)(c.default,{src:t.pet_photo,alt:u||"Pet photo",height:200,width:400,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"p-4 flex flex-col flex-grow",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("h4",{className:"text-xl font-bold text-gray-800 mb-0",children:u}),(0,r.jsx)(d,{reportType:s,status:t.status||""})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-700 space-y-1 mt-2 flex-grow",children:[(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsx)(i.lV_,{className:"text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"font-semibold",children:"Color:"})," ",t.color]}),(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsx)(i.VlX,{className:"text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"font-semibold",children:"Size:"})," ",t.size]}),(0,r.jsxs)("p",{className:"flex items-center",children:[(0,r.jsx)(i.vq8,{className:"text-gray-400 mr-2"}),(0,r.jsx)("span",{className:"font-semibold",children:"Location:"})," ",n]}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 pt-2 border-t mt-3",children:["Reported on:"," ",new Date(t.created_at).toLocaleDateString()]}),t.status&&(0,r.jsxs)("p",{className:"font-bold mt-1 capitalize text-sm ".concat(p?"text-green-600":"text-yellow-600"),children:["Status: ",t.status]})]})]}),(0,r.jsxs)("div",{className:"p-4 bg-gray-50 border-t border-gray-100 flex justify-end space-x-3",children:[a&&(0,r.jsxs)("button",{onClick:()=>a(t.id),className:"flex items-center px-4 py-2 text-sm font-semibold rounded-lg border border-blue-500 text-blue-600 hover:bg-blue-50 transition-colors",children:[(0,r.jsx)(i.Ny1,{className:"mr-2"})," View details"]}),!p&&(0,r.jsxs)("button",{onClick:()=>o(t.id),className:"flex items-center px-4 py-2 text-sm font-semibold rounded-lg border border-green-500 text-green-600 hover:bg-green-50 transition-colors",children:[(0,r.jsx)(i.A7C,{className:"mr-2"})," Resolve"]}),(0,r.jsxs)("button",{onClick:()=>l(t.id),className:"flex items-center px-4 py-2 text-sm font-semibold rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors",children:[(0,r.jsx)(i.RCe,{className:"mr-2"})," Delete"]})]})]})}var p=s(10840);function f(){var e,t,s;let{lostReports:l,isLoading:a,deleteLostReport:i,resolveLostReport:c}=n(),[d,f]=(0,o.useState)(null),m=async e=>{await i(e),d===e&&f(null)},x=async e=>{await c(e)},h=e=>{f(e)};if(a)return(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"Loading lost pet reports..."})});if(0===l.length)return(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"No lost pet reports found."})});let g=d?l.find(e=>e.id===d):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-6 py-4",children:l.map(e=>(0,r.jsx)("div",{className:"col-span-1",children:(0,r.jsx)(u,{report:e,reportType:"lost",onDelete:m,onResolve:x,onViewDetails:h})},e.id))}),g&&(0,r.jsx)(p.A,{title:null!==(e=g.pet_name)&&void 0!==e?e:"Lost pet details",onClose:()=>{f(null)},children:(0,r.jsxs)("div",{className:"space-y-4 text-sm text-gray-800",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Pet name:"})," ",null!==(t=g.pet_name)&&void 0!==t?t:"N/A"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Type:"})," ",g.pet_type]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Color:"})," ",g.color]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Size:"})," ",g.size]})]}),(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Last seen location:"})," ",null!==(s=g.last_seen_location)&&void 0!==s?s:"N/A"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Reported on:"})," ",new Date(g.created_at).toLocaleString()]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"font-semibold",children:"Status:"})," ",(0,r.jsx)("span",{className:"resolved"===g.status?"text-green-600 font-semibold":"text-yellow-600 font-semibold",children:g.status})]})]})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 border-t pt-3",children:"These details were submitted by the pet owner when reporting the loss."})]})})]})}function m(){let{foundReports:e,isLoading:t,deleteFoundReport:s,resolveFoundReport:o}=n(),l=async e=>{await s(e)},a=async e=>{await o(e)};return t?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"Loading found pet reports..."})}):0===e.length?(0,r.jsx)("div",{className:"flex justify-center py-12",children:(0,r.jsx)("p",{className:"text-gray-500 text-lg",children:"No found pet reports found."})}):(0,r.jsx)("div",{className:"grid gap-6 md:gap-8 py-4",children:e.map(e=>(0,r.jsx)("div",{className:"col-span-1 sm:col-span-1 md:col-span-1 lg:col-span-1",style:{display:"contents"},children:(0,r.jsx)(u,{report:e,reportType:"found",onDelete:()=>l(e.id),onResolve:()=>a(e.id)})},e.id))})}var x=s(95759);function h(){let e=(0,x.useSearchParams)().get("tab"),{fetchLostReports:t,fetchFoundReports:s}=n(),[l,a]=(0,o.useState)("found"===e?"found":"lost");(0,o.useEffect)(()=>{t(),s()},[t,s]);let i=e=>"px-4 py-2 text-lg font-medium cursor-pointer transition-colors duration-200 ".concat(l===e?"text-indigo-600 border-b-2 border-indigo-600":"text-gray-500 hover:text-gray-700");return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Lost & Found Pet Reports"}),(0,r.jsx)("div",{className:"border-b border-gray-200 mb-6",children:(0,r.jsxs)("div",{id:"lost-found-tabs",className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:()=>a("lost"),className:i("lost"),"aria-selected":"lost"===l,role:"tab",children:"Lost Pets"}),(0,r.jsx)("button",{onClick:()=>a("found"),className:i("found"),"aria-selected":"found"===l,role:"tab",children:"Found Pets"})]})}),(0,r.jsx)("div",{className:"pt-4",role:"tabpanel",children:"lost"===l?(0,r.jsx)(f,{}):(0,r.jsx)(m,{})})]})}},10840:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var r=s(22194),o=s(94142),l=s(57284);function a(e){let{children:t,onClose:s,title:a}=e;return(0,r.jsxs)(o.bL,{open:!0,onOpenChange:e=>!e&&s(),children:["a",(0,r.jsx)(o.hJ,{className:"   fixed inset-0    bg-black/40    backdrop-blur-sm    z-[9998]   "}),(0,r.jsxs)(o.UC,{className:"   fixed top-1/2 left-1/2    -translate-x-1/2 -translate-y-1/2   bg-white rounded-xl shadow-xl   w-[90%] max-w-md      /* \uD83D\uDCA5 Fix overflow issue */   max-h-[90vh] overflow-y-auto      /* Smooth scaling animation */   data-[state=open]:animate-in   data-[state=open]:fade-in-0   data-[state=open]:zoom-in-95   data-[state=closed]:animate-out   data-[state=closed]:fade-out-0   data-[state=closed]:zoom-out-95      p-6   z-[9999]   focus:outline-none   ",children:[(0,r.jsx)(o.hE,{className:"text-lg font-semibold mb-3",children:null!=a?a:"Modal"}),(0,r.jsx)(o.bm,{onClick:s,className:"   absolute top-4 right-4    text-gray-500 hover:text-gray-700    transition   ",children:(0,r.jsx)(l.A,{size:20})}),t]})]})}},6681:(e,t,s)=>{"use strict";s.d(t,{k5:()=>d});var r=s(4346),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},l=r.createContext&&r.createContext(o),a=["attr","size","title"];function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e}).apply(this,arguments)}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function c(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(Object(s),!0).forEach(function(t){var r,o;r=t,o=s[t],(r=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function d(e){return t=>r.createElement(u,n({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,s)=>r.createElement(t.tag,c({key:s},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var s,{attr:o,size:l,title:i}=e,d=function(e,t){if(null==e)return{};var s,r,o=function(e,t){if(null==e)return{};var s={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;s[r]=e[r]}return s}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)s=l[r],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(o[s]=e[s])}return o}(e,a),u=l||t.size||"1em";return t.className&&(s=t.className),e.className&&(s=(s?s+" ":"")+e.className),r.createElement("svg",n({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,d,{className:s,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&r.createElement("title",null,i),e.children)};return void 0!==l?r.createElement(l.Consumer,null,e=>t(e)):t(o)}}},e=>{var t=t=>e(e.s=t);e.O(0,[2912,4688,1434,1829,9539,7358],()=>t(24269)),_N_E=e.O()}]);