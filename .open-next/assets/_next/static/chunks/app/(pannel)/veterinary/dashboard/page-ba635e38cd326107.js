(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3687],{76504:(e,t,r)=>{Promise.resolve().then(r.bind(r,88972))},88972:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(22194),a=r(4346),i=r(76314),n=r.n(i),l=r(30009);function c(){var e;let{veterinary:t,isLoading:r,error:i,fetchVeterinaryData:c}=(0,l.K)();if((0,a.useEffect)(()=>{t||c()},[t,c]),r&&!t)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"Loading your dashboard…"})});if(i&&!t)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)("p",{className:"text-red-600 text-sm",children:i})});if(!t)return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,s.jsx)("p",{className:"text-gray-600 text-sm",children:"No veterinary profile found."})});let o=(null===(e=t.contact_person)||void 0===e?void 0:e.split(" ")[0])||t.clinic_name||"Doctor",d=t.subscription_status&&"not subscribed"!==t.subscription_status.toLowerCase();return(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)("header",{className:"border-b bg-white",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto px-4 py-4 flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"Welcome back"}),(0,s.jsxs)("h1",{className:"text-xl font-semibold text-gray-900",children:[o,","]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[t.clinic_name," • ",t.city||"Unknown city"]})]}),(0,s.jsxs)("div",{className:"text-right space-y-1",children:[(0,s.jsx)("span",{className:"inline-flex items-center rounded-full px-3 py-1 text-xs font-medium ".concat(t.is_verified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"),children:t.is_verified?"Verified clinic":"Pending verification"}),(0,s.jsxs)("div",{className:"text-[11px] text-gray-500",children:["Status: ",t.status]})]})]})}),(0,s.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-6 space-y-6",children:[(0,s.jsxs)("section",{className:"bg-gradient-to-r from-emerald-500 via-emerald-600 to-emerald-700 text-white rounded-2xl p-5 shadow-sm flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h2",{className:"text-lg font-semibold",children:["Good to see you, ",o,"."]}),(0,s.jsx)("p",{className:"mt-1 text-xs md:text-sm text-emerald-50 max-w-md",children:"Manage your clinic details, keep your subscription active, and help more pets get back home faster."})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(n(),{href:"/veterinary/my-clinic",className:"inline-flex items-center rounded-full bg-white/95 px-4 py-1.5 text-xs font-semibold text-emerald-700 shadow hover:bg-white",children:"Go to My Clinic"}),(0,s.jsx)(n(),{href:"/veterinary/profile",className:"inline-flex items-center rounded-full border border-emerald-200/70 px-4 py-1.5 text-xs font-semibold text-white hover:bg-emerald-600/70",children:"View Profile"})]})]}),(0,s.jsxs)("section",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-4 flex flex-col justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Subscription"}),(0,s.jsx)("p",{className:"mt-2 text-sm font-semibold text-gray-900",children:t.subscription_status||"Not Subscribed"}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:t.subscribed_at?"Since ".concat(new Date(t.subscribed_at).toLocaleDateString()):"No active subscription yet"}),t.subscription_expires_at&&(0,s.jsxs)("p",{className:"mt-1 text-xs text-gray-500",children:["Expires"," ",new Date(t.subscription_expires_at).toLocaleDateString()]})]}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(n(),{href:"/veterinary/settings",className:"inline-flex items-center rounded-full px-3 py-1.5 text-[11px] font-semibold ".concat(d?"bg-emerald-50 text-emerald-700 border border-emerald-200 hover:bg-emerald-100":"bg-amber-50 text-amber-700 border border-amber-200 hover:bg-amber-100"),children:"Manage subscription"})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-4 flex flex-col justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Clinic location"}),(0,s.jsxs)("p",{className:"mt-2 text-sm text-gray-900",children:[t.city||"No city set",t.country?", ".concat(t.country):""]}),(0,s.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:t.street_address?t.street_address:"Street address not added yet"}),t.google_maps_url&&(0,s.jsx)("a",{href:t.google_maps_url,target:"_blank",rel:"noreferrer",className:"mt-2 inline-block text-xs text-indigo-600 hover:underline",children:"Open in Google Maps"})]}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(n(),{href:"/veterinary/my-clinic",className:"inline-flex items-center rounded-full px-3 py-1.5 text-[11px] font-semibold border border-gray-200 text-gray-700 hover:bg-gray-50",children:"Update address & map"})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border p-4 flex flex-col justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide",children:"Profile checklist"}),(0,s.jsxs)("ul",{className:"mt-2 space-y-1.5 text-[11px] text-gray-700",children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-2 ".concat(t.terms_accepted?"bg-emerald-500":"bg-gray-300")}),"Terms accepted"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-2 ".concat(t.data_accuracy_confirmed?"bg-emerald-500":"bg-gray-300")}),"Data accuracy confirmed"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-2 ".concat(t.professional_confirmation?"bg-emerald-500":"bg-gray-300")}),"Professional status confirmed"]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("span",{className:"inline-block w-2 h-2 rounded-full mr-2 ".concat(t.email_updates_opt_in?"bg-emerald-500":"bg-gray-300")}),"Email updates enabled"]})]})]}),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)(n(),{href:"/veterinary/profile",className:"inline-flex items-center rounded-full px-3 py-1.5 text-[11px] font-semibold border border-gray-200 text-gray-700 hover:bg-gray-50",children:"Review profile"})})]})]}),(0,s.jsxs)("section",{className:"bg-white rounded-xl border shadow-sm p-4",children:[(0,s.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Quick tips"}),(0,s.jsx)("p",{className:"text-xs text-gray-600",children:"Keep your clinic information complete and your subscription active so that pet owners can easily find and trust your clinic in the ChipThem network."})]})]})]})}},30009:(e,t,r)=>{"use strict";r.d(t,{K:()=>i});var s=r(16474);let a=async(e,t)=>{let r=await fetch(e,t);if(!r.ok)throw Error((await r.json()).error||"API request failed");return r},i=(0,s.v)((e,t)=>({veterinary:null,isLoading:!1,error:null,fetchVeterinaryData:async()=>{e({isLoading:!0,error:null});try{let t=await a("/api/veterinary/me",{}),r=await t.json();e({veterinary:r.veterinary,isLoading:!1})}catch(r){let t=r instanceof Error?r.message:"Unknown error";e({error:t,isLoading:!1}),console.error("Error fetching veterinary data:",t)}},updateVeterinary:async(r,s)=>{e({isLoading:!0,error:null});try{await a("/api/veterinary/".concat(r),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),await t().fetchVeterinaryData(),e({isLoading:!1})}catch(r){let t=r instanceof Error?r.message:"Unknown error";e({error:t,isLoading:!1}),console.error("Error updating veterinary clinic:",t)}},updatePassword:async(t,r,s)=>{e({isLoading:!0,error:null});try{await a("/api/veterinary/".concat(t,"/reset-password"),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:r,newPassword:s})}),e({isLoading:!1})}catch(r){let t=r instanceof Error?r.message:"Password update failed";e({error:t,isLoading:!1}),console.error("Error updating veterinary password:",t)}}}))},16474:(e,t,r)=>{"use strict";r.d(t,{v:()=>c});var s=r(4346);let a=e=>{let t;let r=new Set,s=(e,s)=>{let a="function"==typeof e?e(t):e;if(!Object.is(a,t)){let e=t;t=(null!=s?s:"object"!=typeof a||null===a)?a:Object.assign({},t,a),r.forEach(r=>r(t,e))}},a=()=>t,i={setState:s,getState:a,getInitialState:()=>n,subscribe:e=>(r.add(e),()=>r.delete(e))},n=t=e(s,a,i);return i},i=e=>e?a(e):a,n=e=>e,l=e=>{let t=i(e),r=e=>(function(e,t=n){let r=s.useSyncExternalStore(e.subscribe,s.useCallback(()=>t(e.getState()),[e,t]),s.useCallback(()=>t(e.getInitialState()),[e,t]));return s.useDebugValue(r),r})(t,e);return Object.assign(r,t),r},c=e=>e?l(e):l}},e=>{var t=t=>e(e.s=t);e.O(0,[6314,1829,9539,7358],()=>t(76504)),_N_E=e.O()}]);